<div class="form-control">
  <label class="label">
    <span class="label-text font-medium">Role *</span>
  </label>

  @if (isLoadingRoles()) {
  <shared-loading></shared-loading>
  } @else if (availableRoles().length > 0) {
  <select
    class="select select-bordered w-full"
    [value]="selectedRole()"
    (change)="onRoleChange($event)"
  >
    <option
      value=""
      disabled
    >Select a role</option>
    @for (role of availableRoles(); track role.name) {
    <option
      [value]="role.name"
      [title]="role.description || ''"
      [selected]="role.name === selectedRole()"
    >
      {{ role.name | titlecase }}
    </option>
    }
  </select>

  @if (selectedRole() && getSelectedRoleDescription()) {
  <label class="label">
    <span class="label-text-alt text-base-content/70">{{ getSelectedRoleDescription() }}</span>
  </label>
  }
  } @else {
  <div class="text-center py-2">
    <span class="text-xs text-gray-500">No available roles</span>
  </div>
  }
</div>
